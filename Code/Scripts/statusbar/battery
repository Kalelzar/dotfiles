#!/bin/sh

# Prints all batteries, their percentage remaining and an emoji corresponding
# to charge status

# Loop through all attached batteries.
for battery in /sys/class/power_supply/BAT?
do
	# Get its remaining capacity and charge status.

	capacity=$(cat "$battery"/capacity) || break
	status=$(sed "s/[Dd]ischarging/â¬‡/;s/[Nn]ot charging/ðŸ›‘/;s/[Cc]harging/âš¡/;s/[Uu]nknown/â™»/;s/[Ff]ull/âš¡/" "$battery"/status)

        [ "$status" =  "â¬‡" ] && printf "%s%%" "$capacity"  || printf "%s" "$status"

done | sed 's/ *$//'
